-- 2019-10-30


-- ■ 실습 select1 -----------------------------------------------------------------------------------------------------------------------------------
-- [1] lprod 테이블의 모든 컬럼 조회


-- [2] buyer 테이블의 buyer-id, buyer-name 컬럼만 조회


-- [3] cart 테이블에서 모든 컬럼 조회


-- [4] member 테이블의 mem-id, mem-pass, mem-name 컬럼만 조회


-- [5] remain 테이블의 remain-year, remain-prod, remain-date 컬럼만 조회
-- 
----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ 실습 select2 ------------------------------------------------------------------------------------------------------------------------------------
-- [1] prod 테이블에서 prod-id, prod-name 컬럼만 조회하고 id, name 으로 수정


-- [2] lprod 테이블에서 lprod-id, lprod-name 컬럼만 조회하고 gu, nm 으로 수정


-- [3] buyer 테이블에서 buyer-id,buyer-name 컬럼만 조회하고 바이어아이디, 이름으로 수정


----------------------------------------------------------------------------------------------------------------------------------------------------------


-- ■ 문자열 결합 실습 sel-con1 -----------------------------------------------------------------------------------------------------------------
-- user-tables을 이용해서 table-name을 SELECT * FROM BAVKINFO; 형식으로 나타내고, 테이블의 이름은 QUERY 로 지정.

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ userid 가 샐리인 데이터를 조회하는 쿼리를 작성 -------------------------------------------------------------------------------------
-- users 테이블

----------------------------------------------------------------------------------------------------------------------------------------------------------



-- 2019-10-31


-- ■ 부서번호가 30번보다 작은 부서에 속한 직원 조회 --------------------------------------------------------------------------------------


----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ BEETWEEN … AND …  실습 where1-- ---------------------------------------------------------------------------------------------------
-- emp 테이블에서 입사 일자가 1982년 1월 1일부터 1983년 1월 1일 이전인 사원이 ename, hiredate 데이터를 조회하는
-- 쿼리를 작성하시오.


----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ >=, >, <=, < 실습 where2 --------------------------------------------------------------------------------------------------------------------
-- emp 테이블에서 입사 일자가 1982년 1월 1일부터 1983년 1월 1일 이전인 사원이 ename, hiredate 데이터를 조회하는
-- 쿼리를 작성하시오.


----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ IN 실습 where 3 --------------------------------------------------------------------------------------------------------------------------------
-- users 테이블에서 userid가 brown, cony, sally인 데이터를 다음과 같이 조회하시오.
-- (IN 연산자 사용)


----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ LIKE, %, - 실습 where4 ----------------------------------------------------------------------------------------------------------------------
-- member 테이블에서 회원의 성이 [신]씨인 사람의 mem-id, mem-name을 조회하는 쿼리를 작성하시오.


----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ LIKE, %, - 실습 where5 ----------------------------------------------------------------------------------------------------------------------
-- member 테이블에서 회원의 이름에 글자 [이]가 들어가는 모든 사람의 mem-id, mem-name을 조회하는 쿼리를 작성하시오.


----------------------------------------------------------------------------------------------------------------------------------------------------------


-- ■ IS NULL 실습 where6 ------------------------------------------------------------------------------------------------------------------------
-- emp 테이블에서 상여(comm)가 있는 회원의 정보를 다음과 같이 조회되도록 쿼리를 작성하시오.


----------------------------------------------------------------------------------------------------------------------------------------------------------


-- ■ AND, OR 실습 where7 -----------------------------------------------------------------------------------------------------------------------
-- emp 테이블에서 job이 SALESMAN이고 입사일자가 1981년 6월 1일 이후인 직원의 정보를 다음과 같이 조회하세요.


----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ AND, OR 실습 where8 -----------------------------------------------------------------------------------------------------------------------
--emp 테이블에서 부서번호가 10번이 아니고 입사일자가 1981년 6월 1일 이후인 직원의 정보를 다음과 같이 조회하세요.
--(IN, NOT IN 연산자 사용금지)


----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ AND, OR 실습 where9 -----------------------------------------------------------------------------------------------------------------------
--emp 테이블에서 부서번호가 10번이 아니고 입사일자가 1981년 6월 1일 이후인 직원의 정보를 다음과 같이 조회하세요.
--(NOT IN 연산자 사용)


----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ AND, OR 실습 where10 ----------------------------------------------------------------------------------------------------------------------
--emp 테이블에서 부서번호가 10번이 아니고 입사일자가 1981년 6월 1일 이후인 직원의 정보를 다음과 같이 조회하세요.
--(부서는 10, 20, 30만 있다고 가정하고 IN 연산자를 사용)


----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ AND, OR 실습 where11 ----------------------------------------------------------------------------------------------------------------------
--emp 테이블에서 job이 SALESMAN이거나 입사일자가 1981년 6월 1일 이후인 직원의 정보를 다음과 같이 조회하세요.


----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ AND, OR 실습 where12 ----------------------------------------------------------------------------------------------------------------------
--emp 테이블에서 job이 SALESMAN이거나 사원번호가 78로 시작하는 직원의 정보를 다음과 같이 조회하세요.


----------------------------------------------------------------------------------------------------------------------------------------------------------




--2019-11-01


-- ■ emp 테이블에서 입사일자가 1981년 6월 1일부터 1986년 12월 31일 사이에 있는 직원 정보 조회 ----------------------------
-- 직원 정보조회 (BETWEEN AND 사용)


----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ emp 테이블에서 입사일자가 1981년 6월 1일부터 1986년 12월 31일 사이에 있는 직원 정보 조회 ----------------------------
-- 직원 정보조회 (AND 사용)


----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ emp 테이블에서 관리자(mgr)가 있는 직원만 조회 --------------------------------------------------------------------------------------


----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ AND, OR 실습 where13 ----------------------------------------------------------------------------------------------------------------------
-- emp 테이블에서 job이 SALESMAN이거나 사원번호가 78로 시작하는 직원의 정보를 다음과 같이 조회하세요.
-- (like 연산자를 사용X)


----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ AND, OR 실습 where14 ----------------------------------------------------------------------------------------------------------------------
--emp 테이블에서 job이 SALESMAN이거나 사원번호가 78로 시작하면서 입사일자가 1981년 6월 1일 이후인 직원의 정보를
-- 다음과 같이 조회하세요.


----------------------------------------------------------------------------------------------------------------------------------------------------------


-- ■ job을 기준으로 내림차순으로 정렬, 만약 job이 같을 경우 사번(empno) 으로 오름차순 정렬 -----------------------------------


----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ ORDER BY 실습 orderby1 -----------------------------------------------------------------------------------------------------------------
-- dept 테이블의 모든 정보를 부서이름으로 오름차순	 정렬로 조회되도록 쿼리를 작성하세요.


----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ ORDER BY 실습 orderby2 -----------------------------------------------------------------------------------------------------------------
-- emp 테이블에서 상여(comm) 정보가 있는 사람들만 조회하고, 상여(comm)를 많이 받는 사람이 먼저 조회되도록 하고,
-- 상여가 같을 경우 사번으로 오름차순 정렬하세요.


----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ ORDER BY 실습 orderby3 -----------------------------------------------------------------------------------------------------------------
-- emp 테이블에서 관리자가 있는 사람들만 조회하고, 직군(job) 순으로 오름차순 정렬하고,
-- 직업이 같을 경우 사번이 큰 사원이 먼저 조회되도록 쿼리를 작성하세요.


---------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ ORDER BY 실습 orderby4 -----------------------------------------------------------------------------------------------------------------
-- emp 테이블에서 10번 부서(deptno) 혹은 30번 부서에 속하는 사람중 급여(sal)가 1500이 넘는 사람들만 조회하고
-- 이름으로 내림차순 정렬되도록 쿼리를 작성하세요.


---------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ 가상컬럼 ROWNUM 실습 row-1 ----------------------------------------------------------------------------------------------------------
-- emp 테이블에서 ROWNUM 값이 1 ~ 10인 값만 조회하는 쿼리를 작성해보세요.


---------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ 가상컬럼 ROWNUM 실습 row-2 ----------------------------------------------------------------------------------------------------------


---------------------------------------------------------------------------------------------------------------------------------------------------------



2019-11-04


-- ■ Function (date 실습 fn1) --------------------------------------------------------------------------------------------------------------------
-- Function (date 실습 fn1)
-- 1. 2019년 12월 31일을 date형으로 표현
-- 2. 2019년 12월 31일을 date형으로 표현하고 5일 이전 날짜
-- 3. 현재 날짜
-- 4. 현재 날짜에서 3일 전 값
-- 출력값: 19/12/31

---------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ Function (date 실습 fn2) --------------------------------------------------------------------------------------------------------------------
-- 오늘 날짜를 다음과 같은 포맷으로 조회하는 쿼리를 작성하시오.
-- 1. 년-월-일
-- 2. 년-월-일 시간(24) -분 -초
-- 3. 일-월-년

---------------------------------------------------------------------------------------------------------------------------------------------------------



2019-11-05


-- ■ Function (null 실습 fn4) ----------------------------------------------------------------------------------------------------------------------
-- emp 테이블의 정보를 다음과 같이 조회되도록 쿼리를 작성하시오. NULL일 경우 9999 표시.
-- (NVL, NVL2, COALESCE 전부 다)

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ Function (null 실습 fn5) ----------------------------------------------------------------------------------------------------------------------
-- users 테이블의 정보를 다음과 같이 조회되도록 쿼리를 작성하세요. reg-dt가 null일 경우 sysdate를 적용.

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ Function (condition 실습 cond1) -----------------------------------------------------------------------------------------------------------
-- emp 테이블을 이용하여  deptno에 따라 부서명으로 변경해서 다음과 같이 조회되는 쿼리를 작성하세요.
-- 10 → 'ACCOUNTING', 20 → 'RESEARCH', 30 → 'SALES', 40 → 'OPERATIONS', 기타 다른 값 → 'DDIT'

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ Function (condition 실습 cond2) -----------------------------------------------------------------------------------------------------------
-- emp 테이블을 이용하여 hiredate에 따라 올해 건강보험 검진 대상자인지 조회하는 쿼리를 작성하세요.
-- (생년을 기준으로 하나 여기서는 입사년도를 기준으로 한다.)

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ Function (group function 실습 grp1) ------------------------------------------------------------------------------------------------------
-- emp 테이블을 이용하여 다음을 구하시오.
    -- 직원중 가장 높은 급여
    -- 직원중 가장 낮은 급여
    -- 직원의 급여 평균(소수점 2자리까지)
    -- 직원의 급여 합
    -- 직원 중 급여가 있는 직원의 수 (NULL 제외)
    -- 직원 중 상급자가 있는 직원의 수 (NULL 제외)
    -- 전체 직원의 수

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ Function (group function 실습 grp2) ------------------------------------------------------------------------------------------------------
-- emp 테이블을 이용하여 다음을 구하시오.
    -- 부서기준 직원 중 가장 높은 급여
    -- 부서기준 직원 중 가장 낮은 급여
    -- 부서기준 직원의 급여 평균(소수점 2자리까지)
    -- 부서기준 직원의 급여 합
    -- 부서의 직원 중 급여가 있는 직원의 수 (NULL 제외)
    -- 부서의 직원 중 상급자가 있는 직원의 수 (NULL 제외)
    -- 전체의 직원의 수)

----------------------------------------------------------------------------------------------------------------------------------------------------------



2019-11-06


-- ■ Function (group function 실습 grp3) ------------------------------------------------------------------------------------------------------
-- emp 테이블을 이용하여 다음을 구하시오.
-- grp2에서 작성한 쿼리를 활용하여 deptno 대신 부서명이 나올 수 있도록 수정하시오.

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ Function (group function 실습 grp4) ------------------------------------------------------------------------------------------------------
-- emp 테이블을 이용하여 다음을 구하시오.
-- 직원의 입사 년월별로 몇 명의 직원이 입사했는지 조회하는 쿼리를 작성하세요.

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ Function (group function 실습 grp5) ------------------------------------------------------------------------------------------------------
-- emp 테이블을 이용하여 다음을 구하시오.
-- 직원의 입사 년별로 몇 명의 직원이 입사했는지 조회하는 쿼리를 작성하세요.

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ Function (group function 실습 grp6) ------------------------------------------------------------------------------------------------------
-- 회사에 존재하는 부서의 개수는 몇 개인지 조회하는 쿼리를 작성하시오.

----------------------------------------------------------------------------------------------------------------------------------------------------------



-- ■ 데이터 결합 (실습 join 0) --------------------------------------------------------------------------------------------------------------------
-- emp, dept 테이블을 이용하여 다음과 같이 조회되도록 쿼리를 작성하세요.

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ 데이터 결합 (실습 join 1) --------------------------------------------------------------------------------------------------------------------
-- emp, dept  테이블을 이용하여 다음과 같이 조회되도록 쿼리를 작성하세요.
-- (부서번호가 10, 30인 데이터만 조회)

----------------------------------------------------------------------------------------------------------------------------------------------------------



2019-11-07



-- ■ 데이터 결합 (실습 join 0_2) -----------------------------------------------------------------------------------------------------------------
-- emp, dept 테이블을 이용하여 다음과 같이 조회되도록 쿼리를 작성하세요.
-- (급여가 2500 초과)

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ 데이터 결합 (실습 join 0_3) -----------------------------------------------------------------------------------------------------------------
-- emp, dept 테이블을 이용하여 다음과 같이 조회되도록 쿼리를 작성하세요.
-- (급여가 2500 초과, 사번이 7600 보다 큰 직원)

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ 데이터 결합 (실습 join 0_4) -----------------------------------------------------------------------------------------------------------------
-- emp, dept 테이블을 이용하여 다음과 같이 조회되도록 쿼리를 작성하세요.
-- (급여가 2500 초과, 사번이 7600 보다 크고 부서명이 RESEARCH인 부서에 속한 직원)

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ 데이터 결합 (base_table.sql, 실습 join1) -------------------------------------------------------------------------------------------------
-- erd 다이어그램을 참고하여 prod 테이블과 lprod 테이블을 조인하여 다음과 같은 결과가 나오는 쿼리를 작성해보세요.
-- (FR_PROD_LGU)

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ 데이터 결합 (base_table.sql, 실습 join2) -------------------------------------------------------------------------------------------------
-- erd 다이어그램을 참고하여 buyer, prod 테이블을 조인하여 buyer별 담당하는 제품 정보를 다음과 같은 결과가 나오도록
-- 쿼리를 작성해보세요.

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ 데이터 결합 (실습 join3) -------------------------------------------------------------------------------------------------
-- erd 다이어그램을 참고하여 member, cart, prod 테이블을 조인하여 회원별 장바구니에 담은 제품 정보를 다음과 같은
-- 결과가 나오도록 쿼리를 작성해보세요.

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ 데이터 결합 (실습 join4) ---------------------------------------------------------------------------------------------------------------------
-- erd 다이어그램을 참고하여 customer, cycle 테이블을 조인하여 고객별 애음 제품, 애음요일, 개수를 다음과 같은 결과가
-- 나오도록 쿼리를 작성해보세요. (고객명이 brown, sally인 고객만 조회)

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ 데이터 결합 (실습 join5) ---------------------------------------------------------------------------------------------------------------------
-- erd 다이어그램을 참고하여 customer, cycle, product 테이블을 조인하여 고객별 애음 제품, 애음요일, 개수, 제품명을 
-- 다음과 같은 결과가 나오도록 쿼리를 작성해보세요. (고객명이 brown, sally인 고객만 조회)

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ 데이터 결합 (실습 join6) ---------------------------------------------------------------------------------------------------------------------
-- erd 다이어그램을 참고하여 customer, cycle, product 테이블을 조인하여 애음요일과 관계없이 고객별 애음 제품별,
-- 개수의 합과, 제품명을 다음과 같은 결과가 나오도록 쿼리를 작성해보세요.

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ 데이터 결합 (실습 join7) ---------------------------------------------------------------------------------------------------------------------
-- erd 다이어그램을 참고하여 cycle, product 테이블을 이용하여 제품별, 개수의 합과, 제품명을 다음과 같은 결과가
-- 나오도록 쿼리를 작성해보세요.

----------------------------------------------------------------------------------------------------------------------------------------------------------



2019-11-08



-- ■ 데이터 결합 (outer join 실습 outerjoin1) --------------------------------------------------------------------------------------------------
-- buyprod 테이블에 구매일자가 2005년 1월 25일인 데이터는 3품목 밖에 없다.
-- 모든 품목이 나올 수 있도록 쿼리를 작성해보세요.

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ 데이터 결합 (outer join 실습 outerjoin2) --------------------------------------------------------------------------------------------------
-- ounterjoin1에서 작업을 시작하세요. buy_date 컬럼이 null인 항목이 안 나오도록 다음처럼 데이터가 채워지도록
-- 쿼리를 작성하세요.

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ 데이터 결합 (outer join 실습 outerjoin3) --------------------------------------------------------------------------------------------------
-- outerjoin2에서 작업을 시작하세요. buy_qty 컬럼이 null일 경우 0으로 보이도록 쿼리를 수정하세요.

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ 데이터 결합 (outer join 실습 outerjoin4) --------------------------------------------------------------------------------------------------
-- cycle, product 테이블을 이용하여 고객이 애음하는 제품 명칭을 표현하고, 애음하지 않는 제품도 다음과 같이 조회되도록
-- 쿼리를 작성하세요. (고객은cid = 1인 고객만 나오도록 제한, null 처리)

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ 데이터 결합 (outer join 실습 outerjoin5) --------------------------------------------------------------------------------------------------
-- cycle, product, customer 테이블을 이용하여 고객이 애음하는 제품 명칭을 표현하고, 애음하지 않는 제품도 다음과 같이 
-- 조회되며 고객이름을 포함하여 쿼리를 작성하세요.  (brown만 )고객은cid = 1인 고객만 나오도록 제한, null 처리)

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ 데이터 결합 (outer join 실습 outerjoin6) --------------------------------------------------------------------------------------------------
-- customer, product 테이블을 이용하여 고객이 애음 가능한 모든 제품의 정보를 결합하여 다음과 같이 조회되도록 쿼리를
-- 작성하세요.

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ 서브쿼리 (실습 sub1) ------------------------------------------------------------------------------------------------------------------------
-- 평균 급여보다 높은 급여를 받는 직원의 수를 조회하세요.

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ 서브쿼리 (실습 sub2) ------------------------------------------------------------------------------------------------------------------------
-- 평균 급여보다 높은 급여를 받는 직원의 정보를 조회하세요.

----------------------------------------------------------------------------------------------------------------------------------------------------------

-- ■ 서브쿼리 (실습 sub3) ------------------------------------------------------------------------------------------------------------------------
-- SMITH와 WARD 사원이 속한 부서의 모든 사원 정보를 조회하는 쿼리를 다음과 같이 작성하세요.

----------------------------------------------------------------------------------------------------------------------------------------------------------